<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/css/application.css">
    <link rel="stylesheet" href="/css/octicons/octicons.css">
    <link href="/css/syntax.css" rel="stylesheet">
    <meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title> Error expectations (or the lack thereof) in rspec </title>
  </head>

  <body>
    <nav class="navbar navbar-default">
      <div class="navbar-header">
        <div class="container container-fluid">
          <ul class="nav navbar-nav">
            <li><a class="navbar-brand navbar-left" href="http://stephanieliu.net">stephanie liu</a></li>
            <li><a class="navbar-right" href="http://stephanieliu.net/about">about</a></li>
            <li><a class="navbar-right" href="http://stephanieliu.net/feed.xml">feed</a></li>
          </ul>
        </div>
      </div>
    </nav>
    <!DOCTYPE html>
<div class="container">
  <div class="page-header">
    <h2> Error expectations (or the lack thereof) in rspec <small> August 18, 2015 12:00 </small></h2>
  </div>
  <div class="jumbotron">
    <p> I came across something weird today, that I thought I'd write down before I came across it again later. I was writing a test to not expect an error like this: </p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">it</span> <span class="s1">&#39;does not raise an error&#39;</span> <span class="k">do</span>
  <span class="n">expect</span><span class="p">{</span> <span class="n">foo</span><span class="o">.</span><span class="n">bar</span> <span class="p">}</span><span class="o">.</span><span class="n">to_not</span> <span class="n">raise_error</span>
<span class="k">end</span></code></pre></div>
<p> But that raises an error (wait, is this meta? probably not...) because rspec is expecting an argument after raise_error. So,  you'd have to write it like this: </p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">it</span> <span class="s1">&#39;does not raise a NoMethodError&#39;</span> <span class="k">do</span>
  <span class="n">expect</span><span class="p">{</span> <span class="n">foo</span><span class="o">.</span><span class="n">bar</span> <span class="p">}</span><span class="o">.</span><span class="n">to_not</span> <span class="n">raise_error</span><span class="p">(</span><span class="no">NoMethodError</span><span class="p">)</span>
<span class="k">end</span></code></pre></div>
<p> But what if I don't want to specify the error I don't want to get? What if I just want to make sure no error is raised at all? Turns out, all you need to do is switch some words around, like so: </p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">it</span> <span class="s1">&#39;does not raise an error&#39;</span> <span class="k">do</span>
  <span class="n">expect</span><span class="p">{</span> <span class="n">foo</span><span class="o">.</span><span class="n">bar</span> <span class="p">}</span><span class="o">.</span><span class="n">not_to</span> <span class="n">raise_error</span>
<span class="k">end</span></code></pre></div>
<p> And that works! Am I the only one who thinks that's super cool/weird? Anyway, go forth and not expect errors! </p>

  </div>
</div>

  </body>
  <hr>
  <div class="container text-center">
    <h4>Connect with me!</h4>
    <a href="http://github.com/sliuu"><div id="connect"><span class="octicon octicon-mark-github"></span>  Github</div></a>
    <a href="mailto:sliu14@outlook.com"><div id="connect"><span class="glyphicon glyphicon-envelope" aria-hidden="true"></span>  Email</div></a>
    <a href="https://www.linkedin.com/in/stephanieliu14"><div id="connect"><span class="glyphicon glyphicon-user" aria-hidden="true"></span>  LinkedIn </div></a>
  </div>
  <hr>
</html>
